{"version":3,"sources":["webpack:///webpack/universalModuleDefinition?5ca6","webpack:///webpack/bootstrap 8b966bd3ada863b86e21?46b3","webpack:///./src/BaseConnection.js?2b24","webpack:///./src/HttpConnection.js?b0ee","webpack:///./src/ajax.js?aa61","webpack:///./src/XMLHttpRequest.js?79d6","webpack:///./src/util.js?ad00","webpack:///xhr2 (ignored)?3ee2"],"names":["Object","assign","target","TypeError","to","index","nextSource","nextKey","prototype","hasOwnProperty","call","BaseConnection","address","options","handler","secure","Error","constructor","getInstance","_address","_secure","_handler","_protocol","_listenerMap","getProtocol","replace","message","request","type","listener","listeners","indexOf","push","splice","args","forEach","apply","EVENT_OPEN","EVENT_CLOSE","EVENT_ERROR","EVENT_REQUEST","EVENT_SEND","EVENT_RESPONSE","EVENT_MESSAGE","EVENT_PROGRESS","url","exec","protocol","urlWithoutProtocol","func","HttpConnection","_request","ajaxOptions","xhr","success","data","trigger","error","jqXHR","textStatus","errorThrown","complete","getAddress","onreadystatechange","readyState","origFun","onprogress","event","abort","http","https","module","exports","getArrayBufferResponse","ArrayBuffer","response","text","responseText","length","buf","bufView","Uint8Array","i","charCodeAt","getBlobResponse","Blob","jsonpID","nodejs","window","document","key","name","rscript","scriptTypeRE","xmlTypeRE","jsonType","htmlType","blankRE","ajax","settings","undefined","ajaxStart","crossDomain","test","location","RegExp","$2","host","dataType","hasPlaceholder","appendQuery","JSONP","toString","serializeData","mime","accepts","baseHeaders","$1","abortTimeout","XDomainRequest","onload","status","split","overrideMimeType","contentType","toUpperCase","headers","clearTimeout","result","mimeToDataType","getResponseHeader","eval","responseXML","JSON","parse","e","ajaxError","ajaxSuccess","async","open","supported","responseType","setRequestHeader","ajaxBeforeSend","timeout","setTimeout","empty","send","triggerAndReturn","context","eventName","triggerGlobal","global","active","ajaxStop","beforeSend","ajaxComplete","callbackName","script","createElement","head","getElementsByTagName","documentElement","onerror","src","insertBefore","firstChild","json","xml","html","query","get","post","getJSON","XMLHttpRequest","console","warn","serialize","param","params","obj","traditional","scope","array","Array","keys","value","add","k","v","encodeURIComponent","join"],"mappings":"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","file":"dzhyun-connection-http.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"DzhyunConnection\"] = factory();\n\telse\n\t\troot[\"DzhyunConnection\"] = factory();\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 1);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 8b966bd3ada863b86e21","// Object.assign polyfill\nif (typeof Object.assign !== 'function') {\n  Object.assign = function assign(target, ...args) { // .length of function is 2\n    if (target == null) { // TypeError if undefined or null\n      throw new TypeError('Cannot convert undefined or null to object');\n    }\n\n    const to = Object(target);\n\n    for (let index = 0; index < args.length; index += 1) {\n      const nextSource = args[index];\n\n      if (nextSource != null) { // Skip over if undefined or null\n        for (const nextKey in nextSource) { // eslint-disable-line no-restricted-syntax\n          // Avoid bugs when hasOwnProperty is shadowed\n          if (Object.prototype.hasOwnProperty.call(nextSource, nextKey)) {\n            to[nextKey] = nextSource[nextKey];\n          }\n        }\n      }\n    }\n    return to;\n  };\n}\n\n/**\n * connection基类\n */\nclass BaseConnection {\n\n  /**\n   * 构造方法\n   * @param {!string} address 连接地址\n   * @param {!object} options 设置参数\n   * @param {object=} handler 事件处理对象\n   * @param {boolean=} [secure=false]\n   */\n  constructor(address, options, handler, secure) {\n    if (typeof address !== 'string') {\n      throw new Error('address is incorrect');\n    }\n    if (this.constructor === BaseConnection) {\n      // eslint-disable-next-line no-use-before-define\n      return getInstance(address, options, handler);\n    }\n    this._address = address;\n    this.options = options || {};\n\n    if (typeof handler === 'boolean') {\n      this._secure = handler;\n      this._handler = null;\n    } else {\n      this._secure = secure || false;\n      this._handler = handler;\n    }\n\n    // 默认协议\n    this._protocol = 'http';\n\n    this._listenerMap = {};\n  }\n\n  getAddress() {\n    return `${this.getProtocol()}://${this._address.replace(/^(\\w+:\\/\\/)?/, '')}`;\n  }\n\n  getProtocol() {\n    return this._protocol + (this._secure ? 's' : '');\n  }\n\n  // eslint-disable-next-line no-unused-vars,class-methods-use-this\n  request(message, options) {\n  }\n\n  send(message, options) {\n    return this.request(message, options);\n  }\n\n  // eslint-disable-next-line class-methods-use-this\n  close() {\n  }\n\n  /**\n   * 事件监听接口\n   */\n  on(type, listener) {\n    if (typeof listener === 'function') {\n      const listeners = this._listenerMap[type] || (this._listenerMap[type] = []);\n      if (listeners.indexOf(listener) < 0) {\n        listeners.push(listener);\n      }\n    }\n    return this;\n  }\n\n  off(type, listener) {\n    if (typeof listener === 'function') {\n      const listeners = this._listenerMap[type] || (this._listenerMap[type] = []);\n      const index = listeners.indexOf(listener);\n      if (index >= 0) listeners.splice(index, 1);\n    }\n    return this;\n  }\n\n  trigger(type, ...args) {\n    const listeners = this._listenerMap[type];\n    if (listeners) listeners.forEach(listener => listener.apply(this, args));\n\n    // 同时触发handler中对应方法\n    if (this._handler && typeof this._handler[type] === 'function') this._handler[type](...args);\n    return this;\n  }\n}\n\nBaseConnection.EVENT_OPEN = 'open';\nBaseConnection.EVENT_CLOSE = 'close';\nBaseConnection.EVENT_ERROR = 'error';\nBaseConnection.EVENT_REQUEST = 'request';\nBaseConnection.EVENT_SEND = 'send';\nBaseConnection.EVENT_RESPONSE = 'response';\nBaseConnection.EVENT_MESSAGE = 'message';\nBaseConnection.EVENT_PROGRESS = 'progress';\n\nfunction getInstance(url, options, handler) {\n  const [, , protocol = 'http', urlWithoutProtocol] = /^((\\w+):\\/\\/)?(.*)/.exec(url);\n\n  const func = BaseConnection[protocol];\n  if (!func) {\n    throw new Error(`protocol \"${protocol}\" no support`);\n  }\n  return func(urlWithoutProtocol, options, handler);\n}\n\nexport default BaseConnection;\n\n\n\n// WEBPACK FOOTER //\n// ./src/BaseConnection.js","import BaseConnection from './BaseConnection';\nimport ajax from './ajax';\n\nclass HttpConnection extends BaseConnection {\n\n  constructor(...args) {\n    super(...args);\n\n    // 用于记录当前未关闭的请求\n    this._request = [];\n  }\n\n  request(message, options) {\n    const ajaxOptions = Object.assign({}, this.options, options);\n    let xhr;\n\n    ajaxOptions.success = (data) => {\n      this.trigger(BaseConnection.EVENT_MESSAGE, data);\n      this.trigger(BaseConnection.EVENT_RESPONSE, data);\n    };\n\n    ajaxOptions.error = (jqXHR, textStatus, errorThrown) => {\n      this.trigger(BaseConnection.EVENT_ERROR, errorThrown);\n    };\n\n    ajaxOptions.complete = () => {\n      const index = this._request.indexOf(xhr);\n      this._request.splice(index, 1);\n    };\n\n    ajaxOptions.url = this.getAddress() + (message || '');\n\n    xhr = ajax(ajaxOptions);\n\n    if (xhr) {\n      xhr.onreadystatechange = (origFun => () => {\n        if (xhr.readyState === 2) {\n\n          // 发出了请求\n          this.trigger(BaseConnection.EVENT_SEND, message);\n          this.trigger(BaseConnection.EVENT_REQUEST, message);\n        }\n        if (origFun) origFun();\n      })(xhr.onreadystatechange);\n    }\n\n    // 打开了连接\n    this.trigger(BaseConnection.EVENT_OPEN);\n\n    this._request.push(xhr);\n\n    xhr.onprogress = (event) => {\n      this.trigger(BaseConnection.EVENT_PROGRESS, event);\n    };\n\n    return this;\n  }\n\n  close() {\n\n    // 取消全部未结束的请求\n    this._request.forEach((xhr, index) => {\n      xhr.abort();\n      this._request.splice(index, 1);\n    });\n\n    this.trigger(BaseConnection.EVENT_CLOSE);\n    return this;\n  }\n}\n\nBaseConnection.http = function http(url, options, handler) {\n  return new HttpConnection(url, options, handler, false);\n};\n\nBaseConnection.https = function https(url, options, handler) {\n  return new HttpConnection(url, options, handler, true);\n};\n\nmodule.exports = BaseConnection;\n\n\n\n// WEBPACK FOOTER //\n// ./src/HttpConnection.js","/* eslint-disable */\nimport XMLHttpRequest from './XMLHttpRequest';\nimport { param } from './util';\n\n/**\n * 模拟jquery的ajax接口\n */\n\n/**\n * 得到ArrayBuffer类型的响应数据\n * @param xhr\n * @returns {ArrayBuffer}\n */\nfunction getArrayBufferResponse(xhr) {\n  if (typeof ArrayBuffer === 'undefined') {\n    throw new Error('不支持ArrayBuffer类型');\n  } else if (xhr.response instanceof ArrayBuffer) {\n    return xhr.response;\n  } else {\n\n    const text = xhr.responseText;\n    const length = text.length;\n    const buf = new ArrayBuffer(length);\n    const bufView = new Uint8Array(buf);\n    for (let i = 0; i < length; i += 1) {\n\n      // \"& 0xff\"，表示在每个字符的两个字节之中，只保留后一个字节，将前一个字节扔掉。原因是浏览器解读字符的时候，会把字符自动解读成Unicode的0xF700-0xF7ff区段。\n      // http://www.ruanyifeng.com/blog/2012/09/xmlhttprequest_level_2.html\n      // eslint-disable-next-line no-bitwise\n      bufView[i] = text.charCodeAt(i) & 0xff;\n    }\n    return buf;\n  }\n}\n\n/**\n * 得到Blob类型的响应数据\n * @param xhr\n */\nfunction getBlobResponse(xhr) {\n  if (typeof Blob === 'undefined') {\n    throw new Error('不支持Blob类型');\n  } else if (xhr.response instanceof Blob) {\n    return xhr.response;\n  } else {\n    const buf = getArrayBufferResponse(xhr);\n\n    // TODO 未知类型\n    return new Blob([buf]);\n  }\n}\n\n// 修改自https://github.com/ForbesLindesay/ajax\nvar jsonpID = 0,\n  nodejs = typeof window === 'undefined',\n  document = !nodejs && window.document,\n  key,\n  name,\n  rscript = /<script\\b[^<]*(?:(?!<\\/script>)<[^<]*)*<\\/script>/gi,\n  scriptTypeRE = /^(?:text|application)\\/javascript/i,\n  xmlTypeRE = /^(?:text|application)\\/xml/i,\n  jsonType = 'application/json',\n  htmlType = 'text/html',\n  blankRE = /^\\s*$/\n\nvar ajax = module.exports = function(options){\n  var settings = Object.assign({}, options || {})\n  for (key in ajax.settings) if (settings[key] === undefined) settings[key] = ajax.settings[key]\n\n  ajaxStart(settings)\n\n  if (!settings.crossDomain) {\n    settings.crossDomain = /^([\\w-]+:)?\\/\\/([^\\/]+)/.test(settings.url) &&\n      !nodejs && !!window.location && RegExp.$2 != window.location.host\n  }\n\n  var dataType = settings.dataType, hasPlaceholder = /=\\?/.test(settings.url)\n  if (dataType == 'jsonp' || hasPlaceholder) {\n    if (!hasPlaceholder) settings.url = appendQuery(settings.url, 'callback=?')\n    return ajax.JSONP(settings)\n  }\n\n  if (!settings.url) settings.url = !nodejs && !!window.location && window.location.toString()\n  serializeData(settings)\n\n  var mime = settings.accepts[dataType],\n    baseHeaders = { },\n    protocol = /^([\\w-]+:)\\/\\//.test(settings.url) ? RegExp.$1 : !nodejs && !!window.location && window.location.protocol,\n    xhr = ajax.settings.xhr(), abortTimeout\n\n  if (!settings.crossDomain) baseHeaders['X-Requested-With'] = 'XMLHttpRequest'\n  else if (typeof XDomainRequest !== 'undefined') {\n    xhr = new XDomainRequest;\n    xhr.onload = function() {\n      xhr.readyState = 4;\n      xhr.status = 200;\n      xhr.onreadystatechange();\n    }\n    xhr.error = function() {\n      xhr.readyState = 4;\n      xhr.status = 400;\n      xhr.onreadystatechange();\n    }\n  }\n  if (mime) {\n    baseHeaders['Accept'] = mime\n    if (mime.indexOf(',') > -1) mime = mime.split(',', 2)[0]\n    xhr.overrideMimeType && xhr.overrideMimeType(mime)\n  }\n  if (settings.contentType || (settings.data && settings.type.toUpperCase() != 'GET'))\n    baseHeaders['Content-Type'] = (settings.contentType || 'application/x-www-form-urlencoded')\n  settings.headers = Object.assign(baseHeaders, settings.headers || {})\n\n  xhr.onreadystatechange = function(){\n    if (xhr.readyState == 4) {\n      clearTimeout(abortTimeout)\n      var result, error = false\n      if ((xhr.status >= 200 && xhr.status < 300) || xhr.status == 304 || (xhr.status == 0 && protocol == 'file:')) {\n        dataType = dataType || mimeToDataType(xhr.contentType || (xhr.getResponseHeader && xhr.getResponseHeader('content-type')));\n\n        try {\n          if (dataType == 'script')    (1,eval)(result)\n          else if (dataType == 'xml')  result = xhr.responseXML\n          else if (dataType == 'json') result = blankRE.test(xhr.responseText) ? null : JSON.parse(xhr.responseText)\n          else if (dataType === 'arraybuffer') result = getArrayBufferResponse(xhr)\n          else if (dataType === 'blob') result = getBlobResponse(xhr)\n          else result = xhr.responseText\n        } catch (e) { error = e }\n\n        if (error) ajaxError(error, 'parsererror', xhr, settings)\n        else ajaxSuccess(result, xhr, settings)\n      } else {\n        ajaxError(null, 'error', xhr, settings)\n      }\n    }\n  }\n\n  var async = 'async' in settings ? settings.async : true\n  xhr.open(settings.type, settings.url, async)\n\n  if (dataType == 'arraybuffer' || dataType == 'blob') {\n\n    // 因为IE的问题，只能将设置responseType的操作放在xhr.open之后\n    // https://connect.microsoft.com/IE/feedback/details/795580/ie11-xmlhttprequest-incorrectly-throws-invalidstateerror-when-setting-responsetype\n    // 判断是否支持设置responseType\n    var supported = typeof xhr.responseType === 'string';\n\n    // 支持二进制请求直接设置responseType\n    if (supported) {\n\n      // 响应类型默认arraybuffer，可以设置为blob（响应回来使用response取得数据）\n      xhr.responseType = options.dataType;\n    } else {\n\n      // 不支持则尝试使用用户自定义的字符集方式（响应回来使用responseText取得数据）\n      xhr.overrideMimeType ? xhr.overrideMimeType(\"text/plain; charset=x-user-defined\") :\n        xhr.setRequestHeader('Accept-Charset', 'x-user-defined');\n    }\n  }\n\n  for (name in settings.headers) xhr.setRequestHeader(name, settings.headers[name])\n\n  if (ajaxBeforeSend(xhr, settings) === false) {\n    xhr.abort()\n    return false\n  }\n\n  if (settings.timeout > 0) abortTimeout = setTimeout(function(){\n    xhr.onreadystatechange = empty\n    xhr.abort()\n    ajaxError(null, 'timeout', xhr, settings)\n  }, settings.timeout)\n\n  // avoid sending empty string (#319)\n  xhr.send(settings.data ? settings.data : null)\n  return xhr\n}\n\n\n// trigger a custom event and return false if it was cancelled\nfunction triggerAndReturn(context, eventName, data) {\n  //todo: Fire off some events\n  //var event = $.Event(eventName)\n  //$(context).trigger(event, data)\n  return true;//!event.defaultPrevented\n}\n\n// trigger an Ajax \"global\" event\nfunction triggerGlobal(settings, context, eventName, data) {\n  if (settings.global) return triggerAndReturn(context || document, eventName, data)\n}\n\n// Number of active Ajax requests\najax.active = 0\n\nfunction ajaxStart(settings) {\n  if (settings.global && ajax.active++ === 0) triggerGlobal(settings, null, 'ajaxStart')\n}\nfunction ajaxStop(settings) {\n  if (settings.global && !(--ajax.active)) triggerGlobal(settings, null, 'ajaxStop')\n}\n\n// triggers an extra global event \"ajaxBeforeSend\" that's like \"ajaxSend\" but cancelable\nfunction ajaxBeforeSend(xhr, settings) {\n  var context = settings.context\n  if (settings.beforeSend.call(context, xhr, settings) === false ||\n    triggerGlobal(settings, context, 'ajaxBeforeSend', [xhr, settings]) === false)\n    return false\n\n  triggerGlobal(settings, context, 'ajaxSend', [xhr, settings])\n}\nfunction ajaxSuccess(data, xhr, settings) {\n  var context = settings.context, status = 'success'\n  settings.success.call(context, data, status, xhr)\n  triggerGlobal(settings, context, 'ajaxSuccess', [xhr, settings, data])\n  ajaxComplete(status, xhr, settings)\n}\n// type: \"timeout\", \"error\", \"abort\", \"parsererror\"\nfunction ajaxError(error, type, xhr, settings) {\n  var context = settings.context\n  settings.error.call(context, xhr, type, error)\n  triggerGlobal(settings, context, 'ajaxError', [xhr, settings, error])\n  ajaxComplete(type, xhr, settings)\n}\n// status: \"success\", \"notmodified\", \"error\", \"timeout\", \"abort\", \"parsererror\"\nfunction ajaxComplete(status, xhr, settings) {\n  var context = settings.context\n  settings.complete.call(context, xhr, status)\n  triggerGlobal(settings, context, 'ajaxComplete', [xhr, settings])\n  ajaxStop(settings)\n}\n\n// Empty function, used as default callback\nfunction empty() {}\n\najax.JSONP = function(options){\n  if (!('type' in options)) return ajax(options)\n\n  var callbackName = 'jsonp' + (++jsonpID),\n    script = document.createElement('script'),\n    abort = function(){\n      //todo: remove script\n      //$(script).remove()\n      if (!nodejs && callbackName in window) window[callbackName] = empty\n      ajaxComplete('abort', xhr, options)\n    },\n    xhr = { abort: abort }, abortTimeout,\n    head = document.getElementsByTagName(\"head\")[0]\n      || document.documentElement\n\n  if (options.error) script.onerror = function() {\n    xhr.abort()\n    options.error()\n  }\n\n  if (!nodejs) window[callbackName] = function(data){\n    clearTimeout(abortTimeout)\n    //todo: remove script\n    //$(script).remove()\n    delete window[callbackName]\n    ajaxSuccess(data, xhr, options)\n  }\n\n  serializeData(options)\n  script.src = options.url.replace(/=\\?/, '=' + callbackName)\n\n  // Use insertBefore instead of appendChild to circumvent an IE6 bug.\n  // This arises when a base node is used (see jQuery bugs #2709 and #4378).\n  head.insertBefore(script, head.firstChild);\n\n  if (options.timeout > 0) abortTimeout = setTimeout(function(){\n    xhr.abort()\n    ajaxComplete('timeout', xhr, options)\n  }, options.timeout)\n\n  return xhr\n}\n\najax.settings = {\n  // Default type of request\n  type: 'GET',\n  // Callback that is executed before request\n  beforeSend: empty,\n  // Callback that is executed if the request succeeds\n  success: empty,\n  // Callback that is executed the the server drops error\n  error: empty,\n  // Callback that is executed on request complete (both: error and success)\n  complete: empty,\n  // The context for the callbacks\n  context: null,\n  // Whether to trigger \"global\" Ajax events\n  global: true,\n  // Transport\n  xhr: function () {\n    return new XMLHttpRequest()\n  },\n  // MIME types mapping\n  accepts: {\n    script: 'text/javascript, application/javascript',\n    json:   jsonType,\n    xml:    'application/xml, text/xml',\n    html:   htmlType,\n    text:   'text/plain'\n  },\n  // Whether the request is to another domain\n  crossDomain: false,\n  // Default timeout\n  timeout: 0\n}\n\nfunction mimeToDataType(mime) {\n  return mime && ( mime == htmlType ? 'html' :\n      mime == jsonType ? 'json' :\n        scriptTypeRE.test(mime) ? 'script' :\n        xmlTypeRE.test(mime) && 'xml' ) || 'text'\n}\n\nfunction appendQuery(url, query) {\n  return (url + '&' + query).replace(/[&?]{1,2}/, '?')\n}\n\n// serialize payload and append it to the URL for GET requests\nfunction serializeData(options) {\n  if (typeof options.data === 'object') options.data = param(options.data)\n  if (options.data && (!options.type || options.type.toUpperCase() == 'GET'))\n    options.url = appendQuery(options.url, options.data)\n}\n\najax.get = function(url, success){ return ajax({ url: url, success: success }) }\n\najax.post = function(url, data, success, dataType){\n  if (typeof data === 'function') dataType = dataType || success, success = data, data = null\n  return ajax({ type: 'POST', url: url, data: data, success: success, dataType: dataType })\n}\n\najax.getJSON = function(url, success){\n  return ajax({ url: url, success: success, dataType: 'json' })\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/ajax.js","import xhr2 from 'xhr2';\n\n// 判断环境，浏览器环境存在window对象\nif (typeof window !== 'undefined') {\n\n  // 不考虑IE6以下的ActiveX方式\n  if (window.XMLHttpRequest) {\n    module.exports = window.XMLHttpRequest;\n  } else {\n    console.warn('当前浏览器不支持XMLHttpRequest');\n  }\n} else if (typeof XMLHttpRequest !== 'undefined') {\n  // eslint-disable-next-line no-undef\n  module.exports = XMLHttpRequest;\n} else {\n\n  // nodejs中使用xhr2模块\n  module.exports = xhr2.XMLHttpRequest || xhr2;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/XMLHttpRequest.js","export function serialize(params, obj, traditional, scope) {\n  const array = (obj instanceof Array);\n  Object.keys(obj).forEach((key) => {\n    const value = obj[key];\n\n    // eslint-disable-next-line no-param-reassign\n    if (scope) key = traditional ? scope : `scope[${(array ? '' : key)}]`; // scope + '[' + (array ? '' : key) + ']'\n    // handle data in serializeArray() format\n    if (!scope && array) params.add(value.name, value.value);\n    // recurse into nested objects\n    else if (traditional ? (value instanceof Array) : (typeof value === 'object')) serialize(params, value, traditional, key);\n    else params.add(key, value);\n  });\n}\n\nexport function param(obj, traditional) {\n  const params = [];\n  params.add = function add(k, v) { this.push(`${encodeURIComponent(k)}=${encodeURIComponent(v)}`); };\n  serialize(params, obj, traditional);\n  return params.join('&').replace('%20', '+');\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/util.js","/* (ignored) */\n\n\n//////////////////\n// WEBPACK FOOTER\n// xhr2 (ignored)\n// module id = 8\n// module chunks = 0 1 2 3"],"sourceRoot":""}